<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SSIS â€” Student Information System</title>
  <link rel="stylesheet" href="css/variables.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/combobox.css">
</head>
<body>

  <!-- sidebar -->
  <div class="sidebar">
    <div class="sidebar-brand">
      <h2>Scholaris</h2>
      <p class="subtitle">Student Information System</p>
    </div>

    <nav>
      <div class="nav-item active" data-section="students">
        <span class="nav-icon icon-students"></span>
        Students
      </div>
      <div class="nav-item" data-section="programs">
        <span class="nav-icon icon-programs"></span>
        Programs
      </div>
      <div class="nav-item" data-section="colleges">
        <span class="nav-icon icon-colleges"></span>
        Colleges
      </div>
    </nav>

    <div class="sidebar-footer">
      <div class="theme-toggle" id="theme-toggle">
        <span class="theme-toggle-label" id="theme-label">Dark Mode</span>
        <div class="toggle-switch"></div>
      </div>
    </div>
  </div>

  <!-- main -->
  <div class="main">

    <!-- students -->
    <div id="section-students" class="section active">
      <div class="header">
        <div class="header-left">
          <h1>Students</h1>
          <p>Manage enrolled student records</p>
        </div>
        <div class="header-actions">
          <button class="btn btn-ghost" id="btn-import-student">â†‘ Import</button>
          <button class="btn btn-ghost" id="btn-export-student">â†“ Export</button>
          <button class="btn btn-primary" id="btn-add-student">+ Add Student</button>
        </div>
        <input type="file" id="file-import-student" accept=".csv" style="display:none">
      </div>
      <div class="search-wrap">
        <input type="text" id="student-search" placeholder="Search by name, ID, or programâ€¦">
      </div>
      <div class="table-wrap" id="student-table-wrap">
        <div class="loading">Loading studentsâ€¦</div>
      </div>
    </div>

    <!-- programs -->
    <div id="section-programs" class="section">
      <div class="header">
        <div class="header-left">
          <h1>Programs</h1>
          <p>Manage academic programs</p>
        </div>
        <div class="header-actions">
          <button class="btn btn-ghost" id="btn-import-program">â†‘ Import</button>
          <button class="btn btn-ghost" id="btn-export-program">â†“ Export</button>
          <button class="btn btn-primary" id="btn-add-program">+ Add Program</button>
        </div>
        <input type="file" id="file-import-program" accept=".csv" style="display:none">
      </div>
      <div class="search-wrap">
        <input type="text" id="program-search" placeholder="Search by code, name, or collegeâ€¦">
      </div>
      <div class="table-wrap" id="program-table-wrap">
        <div class="loading">Loading programsâ€¦</div>
      </div>
    </div>

    <!-- colleges -->
    <div id="section-colleges" class="section">
      <div class="header">
        <div class="header-left">
          <h1>Colleges</h1>
          <p>Manage university colleges</p>
        </div>
        <div class="header-actions">
          <button class="btn btn-ghost" id="btn-import-college">â†‘ Import</button>
          <button class="btn btn-ghost" id="btn-export-college">â†“ Export</button>
          <button class="btn btn-primary" id="btn-add-college">+ Add College</button>
        </div>
        <input type="file" id="file-import-college" accept=".csv" style="display:none">
      </div>
      <div class="search-wrap">
        <input type="text" id="college-search" placeholder="Search by code or nameâ€¦">
      </div>
      <div class="table-wrap" id="college-table-wrap">
        <div class="loading">Loading collegesâ€¦</div>
      </div>
    </div>

  </div>

  <!-- student modal -->
  <div class="modal" id="modal-student">
    <div class="modal-content">
      <h2 id="modal-student-title">Add Student</h2>
      <input type="hidden" id="student-orig-id">

      <label>Student ID</label>
      <div class="id-input-wrap">
        <input type="text" id="f-student-id-year" maxlength="4" placeholder="2026" style="width:80px;">
        <span class="id-separator">â€”</span>
        <input type="text" id="f-student-id-seq" placeholder="0001" maxlength="4">
      </div>
      <span class="error" id="err-student-id"></span>

      <div class="form-row">
        <div class="form-col">
          <label>First Name</label>
          <input type="text" id="f-student-firstname" placeholder="Juan">
          <span class="error" id="err-student-firstname"></span>
        </div>
        <div class="form-col">
          <label>Last Name</label>
          <input type="text" id="f-student-lastname" placeholder="dela Cruz">
          <span class="error" id="err-student-lastname"></span>
        </div>
      </div>

      <label>College</label>
      <div class="combobox" id="college-combobox">
        <input type="text" id="f-student-college-search" placeholder="Type to search collegeâ€¦" autocomplete="off">
        <div class="combobox-list" id="college-combobox-list"></div>
      </div>
      <input type="hidden" id="f-student-college">
      <span class="error" id="err-student-college"></span>

      <label>Program</label>
      <div class="combobox" id="program-combobox">
        <input type="text" id="f-student-program-search" placeholder="Type to search programâ€¦" autocomplete="off">
        <div class="combobox-list" id="program-combobox-list"></div>
      </div>
      <input type="hidden" id="f-student-program">
      <span class="error" id="err-student-program"></span>

      <div class="form-row">
        <div class="form-col">
          <label>Year Level</label>
          <select id="f-student-year">
            <option value="">Select yearâ€¦</option>
            <option value="1">1st Year</option>
            <option value="2">2nd Year</option>
            <option value="3">3rd Year</option>
            <option value="4">4th Year</option>
          </select>
          <span class="error" id="err-student-year"></span>
        </div>
        <div class="form-col">
          <label>Gender</label>
          <select id="f-student-gender">
            <option value="">Select genderâ€¦</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
          </select>
          <span class="error" id="err-student-gender"></span>
        </div>
      </div>

      <div class="modal-buttons">
        <button class="btn btn-primary" id="btn-submit-student">Save</button>
        <button class="btn btn-ghost btn-cancel" data-modal="student">Cancel</button>
      </div>
    </div>
  </div>

  <!-- program modal -->
  <div class="modal" id="modal-program">
    <div class="modal-content">
      <h2 id="modal-program-title">Add Program</h2>
      <input type="hidden" id="program-orig-code">

      <label>Program Code</label>
      <input type="text" id="f-program-code" placeholder="BSCS">
      <span class="error" id="err-program-code"></span>

      <label>Program Name</label>
      <input type="text" id="f-program-name" placeholder="Bachelor of Science in Computer Science">
      <span class="error" id="err-program-name"></span>

      <label>College</label>
      <div class="combobox" id="program-college-combobox">
        <input type="text" id="f-program-college-search" placeholder="Type to search collegeâ€¦" autocomplete="off">
        <div class="combobox-list" id="program-college-combobox-list"></div>
      </div>
      <input type="hidden" id="f-program-college">
      <span class="error" id="err-program-college"></span>

      <div class="modal-buttons">
        <button class="btn btn-primary" id="btn-submit-program">Save</button>
        <button class="btn btn-ghost btn-cancel" data-modal="program">Cancel</button>
      </div>
    </div>
  </div>

  <!-- college modal -->
  <div class="modal" id="modal-college">
    <div class="modal-content">
      <h2 id="modal-college-title">Add College</h2>
      <input type="hidden" id="college-orig-code">

      <label>College Code</label>
      <input type="text" id="f-college-code" placeholder="CCS">
      <span class="error" id="err-college-code"></span>

      <label>College Name</label>
      <input type="text" id="f-college-name" placeholder="College of Computer Studies">
      <span class="error" id="err-college-name"></span>

      <div class="modal-buttons">
        <button class="btn btn-primary" id="btn-submit-college">Save</button>
        <button class="btn btn-ghost btn-cancel" data-modal="college">Cancel</button>
      </div>
    </div>
  </div>

  <!-- confirm delete modal -->
  <div class="modal" id="modal-confirm">
    <div class="modal-content">
      <div class="confirm-icon">ðŸ—‘</div>
      <h2>Confirm Delete</h2>
      <p id="confirm-text"></p>
      <div class="modal-buttons">
        <button class="btn btn-danger" id="btn-confirm-delete">Delete</button>
        <button class="btn btn-ghost btn-cancel" data-modal="confirm">Cancel</button>
      </div>
    </div>
  </div>

  <!-- import duplicate prompt modal -->
  <div class="modal" id="modal-import-dupes">
    <div class="modal-content">
      <h2>Duplicates Found</h2>
      <p id="import-dupes-text" style="color:var(--text-secondary);font-size:14px;margin-bottom:12px;"></p>
      <div id="import-dupes-list" style="max-height:200px;overflow-y:auto;margin-bottom:8px;font-size:13px;color:var(--text-muted);"></div>
      <p style="font-size:13px;color:var(--text-muted);margin-bottom:4px;">
        <strong>Merge</strong> â€” overwrite existing records with imported data.<br>
        <strong>Skip</strong> â€” keep existing records, ignore duplicates.
      </p>
      <div class="modal-buttons">
        <button class="btn btn-primary" id="btn-dupe-merge">Merge</button>
        <button class="btn btn-ghost" id="btn-dupe-skip">Skip</button>
        <button class="btn btn-ghost btn-cancel" data-modal="import-dupes">Cancel</button>
      </div>
    </div>
  </div>

  <!-- import result modal -->
  <div class="modal" id="modal-import-result">
    <div class="modal-content">
      <h2 id="import-result-title">Import Complete</h2>
      <div id="import-result-body" style="font-size:14px;color:var(--text-secondary);line-height:1.8;"></div>
      <div class="modal-buttons">
        <button class="btn btn-primary btn-cancel" data-modal="import-result">OK</button>
      </div>
    </div>
  </div>

  <!-- toast -->
  <div id="toast-container"></div>

  <script src="js/state.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/tables.js"></script>
  <script src="js/combobox.js"></script>
  <script src="js/modals.js"></script>
  <script src="js/crud.js"></script>
  <script src="js/theme.js"></script>
  <script src="js/importexport.js"></script>
  <script src="js/main.js"></script>
</body>
</html>